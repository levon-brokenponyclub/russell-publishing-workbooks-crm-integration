/* ---------------------------------------------------------------
    DTR Employers Select2 Dropdown Styling - Custom Overrides
--------------------------------------------------------------- */

/* Main Select2 container styling */
.nf-employer-field .select2-container,
.enable-select2 .nf-employer-field .select2-container {
    width: 100% !important;
    font-family: "Titillium Web", Sans-serif !important;
}

/* Select2 selection box styling */
.nf-employer-field .select2-container--default .select2-selection--single,
.enable-select2 .nf-employer-field .select2-container--default .select2-selection--single {
    background-color: #f2f2f2 !important;
    border: 2px solid #f2f2f2 !important;
    border-radius: 5px !important;
    height: 45px !important;
    line-height: 45px !important;
    font-size: 14px !important;
    box-shadow: none !important;
    transition: all 0.2s ease !important;
}

/* Selection box hover and focus states */
.nf-employer-field .select2-container--default .select2-selection--single:hover,
.nf-employer-field .select2-container--default.select2-container--open .select2-selection--single,
.enable-select2 .nf-employer-field .select2-container--default .select2-selection--single:hover,
.enable-select2 .nf-employer-field .select2-container--default.select2-container--open .select2-selection--single {
    border-color: #009fe3 !important;
    background-color: #fff !important;
}

/* Selected value text styling */
.nf-employer-field .select2-container--default .select2-selection--single .select2-selection__rendered,
.enable-select2 .nf-employer-field .select2-container--default .select2-selection--single .select2-selection__rendered {
    color: #333 !important;
    line-height: 41px !important;
    padding-left: 15px !important;
    padding-right: 35px !important;
}

/* Placeholder text styling */
.nf-employer-field .select2-container--default .select2-selection--single .select2-selection__placeholder,
.enable-select2 .nf-employer-field .select2-container--default .select2-selection--single .select2-selection__placeholder {
    color: #999 !important;
    font-style: italic !important;
}

/* Arrow styling */
.nf-employer-field .select2-container--default .select2-selection--single .select2-selection__arrow,
.enable-select2 .nf-employer-field .select2-container--default .select2-selection--single .select2-selection__arrow {
    height: 41px !important;
    position: absolute !important;
    top: 2px !important;
    right: 10px !important;
    width: 20px !important;
}

.nf-employer-field .select2-container--default .select2-selection--single .select2-selection__arrow b,
.enable-select2 .nf-employer-field .select2-container--default .select2-selection--single .select2-selection__arrow b {
    border-color: #666 transparent transparent transparent !important;
    border-style: solid !important;
    border-width: 5px 4px 0 4px !important;
    height: 0 !important;
    left: 50% !important;
    margin-left: -4px !important;
    margin-top: -2px !important;
    position: absolute !important;
    top: 50% !important;
    width: 0 !important;
}

/* Arrow when dropdown is open */
.nf-employer-field .select2-container--default.select2-container--open .select2-selection--single .select2-selection__arrow b,
.enable-select2 .nf-employer-field .select2-container--default.select2-container--open .select2-selection--single .select2-selection__arrow b {
    border-color: transparent transparent #666 transparent !important;
    border-width: 0 4px 5px 4px !important;
}

/* Clear button styling */
.nf-employer-field .select2-container--default .select2-selection--single .select2-selection__clear,
.enable-select2 .nf-employer-field .select2-container--default .select2-selection--single .select2-selection__clear {
    color: #999 !important;
    cursor: pointer !important;
    float: right !important;
    font-weight: bold !important;
    margin-right: 10px !important;
    position: absolute !important;
    right: 25px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    font-size: 18px !important;
    line-height: 1 !important;
}

.nf-employer-field .select2-container--default .select2-selection--single .select2-selection__clear:hover,
.enable-select2 .nf-employer-field .select2-container--default .select2-selection--single .select2-selection__clear:hover {
    color: #333 !important;
}

/* Dropdown styling - Higher specificity to override CDN */
body .nf-employer-field .select2-container--default .select2-dropdown,
body .enable-select2 .nf-employer-field .select2-container--default .select2-dropdown {
    background-color: #fff !important;
    border: 2px solid #009fe3 !important;
    border-top: none !important;
    border-radius: 0 0 5px 5px !important;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1) !important;
    z-index: 9999 !important;
}

/* Search box styling */
body .nf-employer-field .select2-container--default .select2-search--dropdown,
body .enable-select2 .nf-employer-field .select2-container--default .select2-search--dropdown {
    padding: 10px !important;
    border-bottom: 1px solid #e0e0e0 !important;
    background-color: #f8f9fa !important;
}

body .nf-employer-field .select2-container--default .select2-search--dropdown .select2-search__field,
body .enable-select2 .nf-employer-field .select2-container--default .select2-search--dropdown .select2-search__field {
    background-color: #fff !important;
    border: 1px solid #ddd !important;
    border-radius: 4px !important;
    padding: 8px 12px !important;
    width: 100% !important;
    font-size: 14px !important;
    font-family: "Titillium Web", Sans-serif !important;
    box-sizing: border-box !important;
}

body .nf-employer-field .select2-container--default .select2-search--dropdown .select2-search__field:focus,
body .enable-select2 .nf-employer-field .select2-container--default .select2-search--dropdown .select2-search__field:focus {
    border-color: #009fe3 !important;
    outline: none !important;
    box-shadow: 0 0 0 2px rgba(0, 159, 227, 0.2) !important;
}

/* Results container */
body .nf-employer-field .select2-container--default .select2-results,
body .enable-select2 .nf-employer-field .select2-container--default .select2-results {
    background-color: #fff !important;
}

body .nf-employer-field .select2-container--default .select2-results > .select2-results__options,
body .enable-select2 .nf-employer-field .select2-container--default .select2-results > .select2-results__options {
    max-height: 300px !important;
    overflow-y: auto !important;
}

/* Individual result options */
body .nf-employer-field .select2-container--default .select2-results__option,
body .enable-select2 .nf-employer-field .select2-container--default .select2-results__option {
    padding: 12px 15px !important;
    font-size: 14px !important;
    font-family: "Titillium Web", Sans-serif !important;
    color: #333 !important;
    background-color: #fff !important;
    border-bottom: 1px solid #f0f0f0 !important;
    cursor: pointer !important;
    transition: background-color 0.15s ease !important;
}

/* Hover state for options */
body .nf-employer-field .select2-container--default .select2-results__option[aria-selected],
body .nf-employer-field .select2-container--default .select2-results__option--highlighted[aria-selected],
body .enable-select2 .nf-employer-field .select2-container--default .select2-results__option[aria-selected],
body .enable-select2 .nf-employer-field .select2-container--default .select2-results__option--highlighted[aria-selected] {
    background-color: #e7f4fc !important;
    color: #333 !important;
}

/* Selected option styling */
body .nf-employer-field .select2-container--default .select2-results__option[aria-selected=true],
body .enable-select2 .nf-employer-field .select2-container--default .select2-results__option[aria-selected=true] {
    background-color: #009fe3 !important;
    color: #fff !important;
    font-weight: 500 !important;
}

/* Loading more results styling */
body .nf-employer-field .select2-container--default .select2-results__option--load-more,
body .enable-select2 .nf-employer-field .select2-container--default .select2-results__option--load-more {
    background-color: #f8f9fa !important;
    color: #666 !important;
    text-align: center !important;
    font-style: italic !important;
    cursor: default !important;
}

/* No results message */
body .nf-employer-field .select2-container--default .select2-results__message,
body .enable-select2 .nf-employer-field .select2-container--default .select2-results__message {
    color: #666 !important;
    padding: 15px !important;
    text-align: center !important;
    font-style: italic !important;
}

/* New tag option styling (for custom entries) */
body .nf-employer-field .select2-container--default .select2-results__option[data-select2-tag="true"],
body .enable-select2 .nf-employer-field .select2-container--default .select2-results__option[data-select2-tag="true"] {
    background-color: #fff3cd !important;
    border-left: 4px solid #ffc107 !important;
    color: #856404 !important;
}

body .nf-employer-field .select2-container--default .select2-results__option[data-select2-tag="true"]:before,
body .enable-select2 .nf-employer-field .select2-container--default .select2-results__option[data-select2-tag="true"]:before {
    content: "Add: " !important;
    font-weight: bold !important;
}

/* Disabled state */
.nf-employer-field .select2-container--default.select2-container--disabled .select2-selection--single,
.enable-select2 .nf-employer-field .select2-container--default.select2-container--disabled .select2-selection--single {
    background-color: #e9ecef !important;
    color: #6c757d !important;
    cursor: not-allowed !important;
}

/* Error state styling */
.nf-employer-field .nf-error .select2-container--default .select2-selection--single,
.enable-select2 .nf-employer-field .nf-error .select2-container--default .select2-selection--single {
    border-color: #dc3545 !important;
    background-color: #fff5f5 !important;
}

/* Focus state when tabbing */
.nf-employer-field .select2-container--default.select2-container--focus .select2-selection--single,
.enable-select2 .nf-employer-field .select2-container--default.select2-container--focus .select2-selection--single {
    border-color: #009fe3 !important;
    box-shadow: 0 0 0 2px rgba(0, 159, 227, 0.2) !important;
}

/* Mobile responsiveness */
@media (max-width: 768px) {
    body .nf-employer-field .select2-container--default .select2-results > .select2-results__options,
    body .enable-select2 .nf-employer-field .select2-container--default .select2-results > .select2-results__options {
        max-height: 250px !important;
    }
    
    body .nf-employer-field .select2-container--default .select2-results__option,
    body .enable-select2 .nf-employer-field .select2-container--default .select2-results__option {
        padding: 15px !important;
        font-size: 16px !important;
    }
    
    body .nf-employer-field .select2-container--default .select2-search--dropdown .select2-search__field,
    body .enable-select2 .nf-employer-field .select2-container--default .select2-search--dropdown .select2-search__field {
        font-size: 16px !important;
        padding: 12px !important;
    }
}

/* Custom scrollbar for the dropdown */
body .nf-employer-field .select2-results__options::-webkit-scrollbar,
body .enable-select2 .nf-employer-field .select2-results__options::-webkit-scrollbar {
    width: 6px !important;
}

body .nf-employer-field .select2-results__options::-webkit-scrollbar-track,
body .enable-select2 .nf-employer-field .select2-results__options::-webkit-scrollbar-track {
    background: #f1f1f1 !important;
}

body .nf-employer-field .select2-results__options::-webkit-scrollbar-thumb,
body .enable-select2 .nf-employer-field .select2-results__options::-webkit-scrollbar-thumb {
    background: #c1c1c1 !important;
    border-radius: 3px !important;
}

body .nf-employer-field .select2-results__options::-webkit-scrollbar-thumb:hover,
body .enable-select2 .nf-employer-field .select2-results__options::-webkit-scrollbar-thumb:hover {
    background: #a1a1a1 !important;
}

/* Loading animation */
body .nf-employer-field .select2-container--default .select2-results__option--loading-results,
body .enable-select2 .nf-employer-field .select2-container--default .select2-results__option--loading-results {
    padding: 15px !important;
    text-align: center !important;
    color: #666 !important;
    font-style: italic !important;
}

body .nf-employer-field .select2-container--default .select2-results__option--loading-results:before,
body .enable-select2 .nf-employer-field .select2-container--default .select2-results__option--loading-results:before {
    content: "" !important;
    display: inline-block !important;
    width: 16px !important;
    height: 16px !important;
    border: 2px solid #f3f3f3 !important;
    border-top: 2px solid #009fe3 !important;
    border-radius: 50% !important;
    animation: select2-spin 1s linear infinite !important;
    margin-right: 8px !important;
    vertical-align: middle !important;
}

@keyframes select2-spin {
    0% { transform: rotate(0deg) !important; }
    100% { transform: rotate(360deg) !important; }
}

/* Additional high-specificity overrides for stubborn CDN styles */
body .enable-select2 .select2-container--default .select2-dropdown {
    border: 2px solid #009fe3 !important;
    border-top: none !important;
}

body .enable-select2 .select2-container--default .select2-selection--single {
    background-color: #f2f2f2 !important;
    border: 2px solid #f2f2f2 !important;
    height: 45px !important;
}

body .enable-select2 .select2-container--default .select2-selection--single .select2-selection__rendered {
    line-height: 41px !important;
    padding-left: 15px !important;
}
